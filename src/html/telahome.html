<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>EcoShare | Home</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/telahome.css">
  <link rel="stylesheet" href="../css/menu.css">

</head>
<body>
<div id="spinner" class="spinner-overlay">
  <div class="spinner"></div>
</div>

<!-- =========================
     TOPO
========================= -->
<header class="topo">
  <img src="../imagens/logo.png" class="logo" alt="EcoShare">

<input
  type="text"
  id="campoBusca"
  class="search"
  placeholder="Buscar material..."
>

<div class="icon-notificacao-wrapper" id="btnNotificacao">
  <img src="../icons/notificacao.png" class="icon-notificacao">
  <span id="badgeNotificacoes" class="badge hidden">0</span>

  <div id="menuNotificacao" class="menu-notificacao hidden">


    <hr>

    <!-- Atalhos -->
    <a href="/solicitacoes-coleta">Solicitações de coleta</a>
    <a href="/coletas-andamento">Coletas em andamento</a>
    <a href="/historico">Histórico de Doações e Coletas</a>

    <hr>
 <!-- Botão limpar notificações -->
    <button
      id="btnLimparNotificacoes"
      class="btn-limpar-notificacoes"
      onclick="limparNotificacoes(event)"
    >
      Limpar notificações
    </button>
    <!-- Lista dinâmica -->
    <div id="listaNotificacoes"></div>
  </div>
</div>


    </div>
  </div>
</header>

<!-- =========================
     FILTROS
========================= -->
<section class="filtros">
  <button onclick="limparFiltro()">Todos</button>
  <button onclick="filtrarPorMaterial('Plástico')">Plástico</button>
  <button onclick="filtrarPorMaterial('Papel')">Papel</button>
  <button onclick="filtrarPorMaterial('Vidro')">Vidro</button>
  <button onclick="filtrarPorMaterial('Eletrônico')">Eletrônico</button>
  <button onclick="filtrarPorMaterial('Metal')">Metal</button>
  <button onclick="filtrarPorMaterial('Outros')">Outros</button>
</section>


<!-- =========================
     PUBLICAÇÕES
========================= -->
<section class="publicacoes" id="listaPublicacoes"></section>

<!-- BOTÃO ADICIONAR -->
<button class="btn-add" onclick="abrirModalDoacao()">
  <img src="../icons/adicionar.png" alt="Adicionar">
</button>

<!-- =========================
     MODAL ADICIONAR DOAÇÃO
========================= -->
<div class="modal-overlay" id="modalDoacao">
  <div class="modal-doacao">

    <button class="close-modal" onclick="fecharModalDoacao()">✕</button>

    <button class="btn-modal-principal" onclick="irParaAdicionarDoacao()">
      Adicionar Doação
    </button>

    <button class="btn-modal-principal" onclick="irParaMinhasDoacoes()">
      Ver Minhas Doações
    </button>

  </div>
</div>

<!-- =========================
     MODAL VER MAIS
========================= -->
<div class="modal-overlay" id="modalDetalhes">
  <div class="modal-detalhes moderno">

    <button class="close-modal" onclick="fecharDetalhes()">✕</button>

    <img id="detalheImagem" class="detalhe-img">

    <div class="detalhe-header">
      <h3 id="detalheTitulo"></h3>
    
    </div>

    <div class="detalhe-bloco">
      <p id="detalheMaterial"></p>
      <p id="detalheBairro"></p>
      <p id="detalheUsuario"></p>
    </div>

    <div class="detalhe-bloco destaque">
      <p id="detalheDias"></p>
      <p id="detalheHorario"></p>
    </div>

    <div class="detalhe-descricao">
      <h4>Descrição</h4>
      <p id="detalheDescricao"></p>
    </div>

    <button class="btn-coleta" onclick="solicitarColeta()">
      Solicitar Coleta
    </button>

    <button class="btn-reportar" onclick="abrirDenuncia()">
      Reportar
    </button>

  </div>
</div>


<!-- =========================
     MODAL DENÚNCIA
========================= -->
<div id="modalDenuncia" class="modal-denuncia">
  <div class="modal-denuncia-box">

    <button class="fechar-denuncia" onclick="fecharDenuncia()">✕</button>

    <div class="denuncia-header">
      <span class="icone-alerta">⚠️</span>
      <h2>Reportar Doação</h2>
      <p>
        Sua denúncia será analisada pela equipe EcoShare.
        Obrigado por ajudar a manter a plataforma segura.
      </p>
    </div>

    <textarea
      id="textoDenuncia"
      placeholder="Descreva com detalhes o motivo da denúncia..."
      rows="5"
    ></textarea>

    <button class="btn-enviar-denuncia" onclick="enviarDenuncia()">
      Enviar denúncia
    </button>

  </div>
</div>

<nav class="menu">
  <div class="menu-item" data-rota="telahome" onclick="location.href='/telahome'">
    <img src="../icons/home.png">
    <span>Home</span>
  </div>

  <div class="menu-item" data-rota="resgate" onclick="location.href='/resgate'">
    <img src="../icons/cupom.png">
    <span>Resgate</span>
  </div>

  <div class="menu-item" data-rota="perfil" onclick="location.href='/perfil'">
    <img src="../icons/user.png">
    <span>Perfil</span>
  </div>

  <div class="menu-item" data-rota="configuracoes" onclick="location.href='/configuracoes'">
    <img src="../icons/config.png">
    <span>Configurações</span>
  </div>
</nav>


<script src="../js/menu.js"></script>
<script src="../js/telahome.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</body>
</html>
